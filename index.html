<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LINE Flex Promo Sender</title>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;600;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root {
    --green: #06C755;
    --green-dark: #04a344;
    --black: #0a0a0a;
    --surface: #111;
    --surface2: #1a1a1a;
    --border: #2a2a2a;
    --text: #f0f0f0;
    --text-muted: #666;
    --accent: #FFE500;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--black);
    color: var(--text);
    font-family: 'Noto Sans Thai', sans-serif;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* Header */
  header {
    padding: 20px 24px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 12px;
    position: sticky;
    top: 0;
    background: var(--black);
    z-index: 10;
  }

  .logo {
    width: 36px;
    height: 36px;
    background: var(--green);
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Space Mono', monospace;
    font-weight: 700;
    font-size: 14px;
    color: white;
    flex-shrink: 0;
  }

  header h1 {
    font-size: 16px;
    font-weight: 700;
    color: var(--text);
  }

  header p {
    font-size: 12px;
    color: var(--text-muted);
    margin-top: 1px;
  }

  /* LIFF ID Setup */
  #setup-screen {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 32px 24px;
    gap: 24px;
  }

  .setup-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px 24px;
    width: 100%;
    max-width: 440px;
  }

  .setup-card h2 {
    font-size: 20px;
    font-weight: 800;
    margin-bottom: 8px;
  }

  .setup-card p {
    font-size: 13px;
    color: var(--text-muted);
    line-height: 1.6;
    margin-bottom: 24px;
  }

  /* Main App */
  #app {
    display: none;
    flex: 1;
    flex-direction: column;
    max-width: 600px;
    margin: 0 auto;
    width: 100%;
    padding: 24px 16px;
    gap: 24px;
  }

  section {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    overflow: hidden;
  }

  .section-label {
    padding: 14px 16px;
    border-bottom: 1px solid var(--border);
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.1em;
    color: var(--green);
    text-transform: uppercase;
    font-family: 'Space Mono', monospace;
  }

  .fields {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 14px;
  }

  label {
    display: flex;
    flex-direction: column;
    gap: 6px;
    font-size: 13px;
    color: var(--text-muted);
    font-weight: 600;
  }

  input, textarea, select {
    background: var(--surface2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 10px 14px;
    color: var(--text);
    font-family: 'Noto Sans Thai', sans-serif;
    font-size: 14px;
    outline: none;
    transition: border-color 0.2s;
    width: 100%;
  }

  input:focus, textarea:focus, select:focus {
    border-color: var(--green);
  }

  textarea {
    resize: vertical;
    min-height: 80px;
  }

  .row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
  }

  /* Color Picker */
  .color-options {
    display: flex;
    gap: 8px;
    flex-wrap: wrap;
  }

  .color-swatch {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.2s;
  }

  .color-swatch.active {
    border-color: white;
    transform: scale(1.1);
  }

  /* Preview */
  #preview-wrap {
    padding: 16px;
  }

  .bubble-preview {
    background: white;
    border-radius: 16px;
    overflow: hidden;
    box-shadow: 0 8px 32px rgba(0,0,0,0.4);
    max-width: 320px;
    margin: 0 auto;
  }

  .preview-hero {
    width: 100%;
    aspect-ratio: 20/13;
    object-fit: cover;
    display: block;
  }

  .preview-hero-placeholder {
    width: 100%;
    aspect-ratio: 20/13;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 13px;
    color: rgba(255,255,255,0.6);
    font-weight: 600;
    position: relative;
  }

  .preview-body {
    padding: 16px;
  }

  .preview-tag {
    display: inline-block;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.08em;
    padding: 3px 8px;
    border-radius: 4px;
    margin-bottom: 8px;
    color: white;
  }

  .preview-title {
    font-size: 18px;
    font-weight: 900;
    color: #1a1a1a;
    line-height: 1.3;
    margin-bottom: 4px;
  }

  .preview-desc {
    font-size: 12px;
    color: #888;
    line-height: 1.5;
    margin-bottom: 12px;
  }

  .preview-price-row {
    display: flex;
    align-items: baseline;
    gap: 8px;
    margin-bottom: 14px;
  }

  .preview-price {
    font-size: 22px;
    font-weight: 900;
    color: #e11d48;
  }

  .preview-original {
    font-size: 13px;
    color: #bbb;
    text-decoration: line-through;
  }

  .preview-badge {
    font-size: 11px;
    font-weight: 700;
    padding: 3px 7px;
    border-radius: 999px;
    color: white;
    background: #e11d48;
  }

  .preview-btn {
    width: 100%;
    padding: 12px;
    border: none;
    border-radius: 10px;
    font-size: 14px;
    font-weight: 700;
    color: white;
    cursor: default;
    text-align: center;
    font-family: 'Noto Sans Thai', sans-serif;
  }

  /* Send Button */
  .send-btn {
    background: var(--green);
    border: none;
    border-radius: 14px;
    padding: 16px;
    color: white;
    font-size: 16px;
    font-weight: 700;
    font-family: 'Noto Sans Thai', sans-serif;
    cursor: pointer;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: all 0.2s;
    letter-spacing: 0.02em;
  }

  .send-btn:hover { background: var(--green-dark); transform: translateY(-1px); }
  .send-btn:active { transform: translateY(0); }
  .send-btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

  .btn-primary {
    background: var(--green);
    border: none;
    border-radius: 10px;
    padding: 12px 20px;
    color: white;
    font-size: 14px;
    font-weight: 700;
    font-family: 'Noto Sans Thai', sans-serif;
    cursor: pointer;
    width: 100%;
    transition: all 0.2s;
  }

  .btn-primary:hover { background: var(--green-dark); }

  /* Status */
  #status {
    padding: 12px 16px;
    border-radius: 10px;
    font-size: 13px;
    font-weight: 600;
    display: none;
    margin-top: 4px;
    text-align: center;
  }

  #status.success { background: #052e16; color: #4ade80; border: 1px solid #166534; display: block; }
  #status.error   { background: #2d0a0a; color: #f87171; border: 1px solid #7f1d1d; display: block; }
  #status.info    { background: #0a1628; color: #60a5fa; border: 1px solid #1e3a5f; display: block; }

  .tip {
    font-size: 11px;
    color: var(--text-muted);
    text-align: center;
    padding: 0 8px;
    line-height: 1.6;
  }

  .tip a { color: var(--green); text-decoration: none; }

  /* Bottom padding */
  .spacer { height: 32px; }

  select option { background: #1a1a1a; }
</style>
</head>
<body>

<header>
  <div class="logo">FX</div>
  <div>
    <h1>Flex Promo Sender</h1>
    <p>‡∏™‡πà‡∏á Flex Message ‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏•‡∏ô‡πå</p>
  </div>
</header>

<!-- Setup Screen -->
<div id="setup-screen">
  <div class="setup-card">
    <h2>‚öôÔ∏è ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LIFF ID</h2>
    <p>‡∏Å‡∏£‡∏≠‡∏Å LIFF ID ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô<br>‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà LINE Developers Console ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å LIFF ‚Üí Add<br>‡∏ï‡∏±‡πâ‡∏á Scope ‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î <strong>chat_message.write</strong></p>
    <label>
      LIFF ID
      <input id="liff-id-input" type="text" placeholder="1234567890-xxxxxxxx" />
    </label>
    <br>
    <button class="btn-primary" onclick="initLiff()">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE</button>
    <div id="status"></div>
    <br>
    <p class="tip">
      ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ LIFF? <a href="https://developers.line.biz/console/" target="_blank">‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà LINE Developers</a>
    </p>
  </div>
</div>

<!-- Main App -->
<div id="app">

  <!-- Form -->
  <section>
    <div class="section-label">üìù ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô</div>
    <div class="fields">
      <label>
        ‡∏ä‡∏∑‡πà‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô / ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏´‡∏•‡∏±‡∏Å
        <input id="f-title" type="text" value="Flash Sale 50% OFF!" oninput="renderPreview()" />
      </label>
      <label>
        ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢
        <textarea id="f-desc" oninput="renderPreview()">‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡∏•‡∏î 50% ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏•‡∏≤‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏™‡∏∏‡∏î‡∏û‡∏¥‡πÄ‡∏®‡∏©!</textarea>
      </label>
      <div class="row">
        <label>
          ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©
          <input id="f-price" type="text" value="‡∏ø499" oninput="renderPreview()" />
        </label>
        <label>
          ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏î‡∏¥‡∏°
          <input id="f-original" type="text" value="‡∏ø999" oninput="renderPreview()" />
        </label>
      </div>
      <label>
        Badge / Tag ‡πÄ‡∏ä‡πà‡∏ô SALE, HOT, NEW
        <input id="f-tag" type="text" value="üî• FLASH SALE" oninput="renderPreview()" />
      </label>
      <label>
        URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 1040x660px)
        <input id="f-img" type="text" value="https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?w=800" oninput="renderPreview()" />
      </label>
      <label>
        ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡∏õ‡∏∏‡πà‡∏°
        <input id="f-btn-text" type="text" value="‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏•‡∏¢!" oninput="renderPreview()" />
      </label>
      <label>
        ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏õ‡∏∏‡πà‡∏° (URL)
        <input id="f-btn-url" type="text" value="https://example.com" oninput="renderPreview()" />
      </label>
      <label>
        ‡∏™‡∏µ‡∏ò‡∏µ‡∏°
        <div class="color-options" id="color-options">
          <div class="color-swatch active" data-color="#06C755" style="background:#06C755" onclick="pickColor(this)"></div>
          <div class="color-swatch" data-color="#e11d48" style="background:#e11d48" onclick="pickColor(this)"></div>
          <div class="color-swatch" data-color="#f97316" style="background:#f97316" onclick="pickColor(this)"></div>
          <div class="color-swatch" data-color="#8b5cf6" style="background:#8b5cf6" onclick="pickColor(this)"></div>
          <div class="color-swatch" data-color="#0ea5e9" style="background:#0ea5e9" onclick="pickColor(this)"></div>
          <div class="color-swatch" data-color="#1a1a1a" style="background:#1a1a1a; border: 1px solid #444" onclick="pickColor(this)"></div>
        </div>
      </label>
    </div>
  </section>

  <!-- Preview -->
  <section>
    <div class="section-label">üëÅ Preview</div>
    <div id="preview-wrap">
      <div class="bubble-preview" id="bubble-preview">
        <!-- rendered by JS -->
      </div>
    </div>
  </section>

  <!-- Send -->
  <section>
    <div class="section-label">üöÄ ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</div>
    <div class="fields">
      <button class="send-btn" onclick="sendFlex()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
        ‡∏™‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô LINE
      </button>
      <div id="status"></div>
      <p class="tip">‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î picker ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡πà‡∏á‡∏´‡∏≤‡πÉ‡∏Ñ‡∏£<br>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡∏ú‡πà‡∏≤‡∏ô LINE LIFF ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</p>
    </div>
  </section>

  <div class="spacer"></div>
</div>

<script>
let themeColor = '#06C755';
let liffReady = false;

// ---- LIFF Init ----
async function initLiff() {
  const id = document.getElementById('liff-id-input').value.trim();
  if (!id) return showStatus('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å LIFF ID', 'error', 'setup');

  showStatus('‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠...', 'info', 'setup');
  try {
    await liff.init({ liffId: id });
    if (!liff.isLoggedIn()) {
      liff.login();
      return;
    }
    localStorage.setItem('liff_id', id);
    liffReady = true;
    document.getElementById('setup-screen').style.display = 'none';
    document.getElementById('app').style.display = 'flex';
    renderPreview();
  } catch (e) {
    showStatus('‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ' + e.message, 'error', 'setup');
  }
}

// ---- Auto-init from saved ID ----
window.addEventListener('load', async () => {
  const saved = localStorage.getItem('liff_id');
  if (saved) {
    document.getElementById('liff-id-input').value = saved;
    try {
      await liff.init({ liffId: saved });
      if (liff.isLoggedIn()) {
        liffReady = true;
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById('app').style.display = 'flex';
        renderPreview();
        return;
      }
    } catch(e) {}
  }
});

// ---- Color Picker ----
function pickColor(el) {
  document.querySelectorAll('.color-swatch').forEach(s => s.classList.remove('active'));
  el.classList.add('active');
  themeColor = el.dataset.color;
  renderPreview();
}

// ---- Preview Render ----
function renderPreview() {
  const title = document.getElementById('f-title').value || '‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô';
  const desc = document.getElementById('f-desc').value || '‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢';
  const price = document.getElementById('f-price').value || '‡∏ø0';
  const original = document.getElementById('f-original').value || '';
  const tag = document.getElementById('f-tag').value || '';
  const img = document.getElementById('f-img').value;
  const btnText = document.getElementById('f-btn-text').value || '‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏•‡∏¢';

  const tc = themeColor;

  document.getElementById('bubble-preview').innerHTML = `
    ${img
      ? `<img class="preview-hero" src="${img}" onerror="this.style.display='none'" />`
      : `<div class="preview-hero-placeholder" style="background:${tc}">üñº ‡πÉ‡∏™‡πà URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û</div>`
    }
    <div class="preview-body">
      ${tag ? `<span class="preview-tag" style="background:${tc}">${tag}</span>` : ''}
      <div class="preview-title">${title}</div>
      <div class="preview-desc">${desc}</div>
      <div class="preview-price-row">
        <span class="preview-price" style="color:${tc}">${price}</span>
        ${original ? `<span class="preview-original">${original}</span>` : ''}
      </div>
      <div class="preview-btn" style="background:${tc}">${btnText}</div>
    </div>
  `;
}

// ---- Build Flex JSON ----
function buildFlex() {
  const title = document.getElementById('f-title').value || '‡πÇ‡∏õ‡∏£‡πÇ‡∏°‡∏ä‡∏±‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©';
  const desc = document.getElementById('f-desc').value || '';
  const price = document.getElementById('f-price').value || '';
  const original = document.getElementById('f-original').value || '';
  const tag = document.getElementById('f-tag').value || '';
  const img = document.getElementById('f-img').value;
  const btnText = document.getElementById('f-btn-text').value || '‡∏î‡∏π‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
  const btnUrl = document.getElementById('f-btn-url').value || 'https://example.com';
  const tc = themeColor;

  const bodyContents = [];

  if (tag) {
    bodyContents.push({
      type: "box",
      layout: "horizontal",
      contents: [{
        type: "text",
        text: tag,
        size: "xs",
        color: "#ffffff",
        weight: "bold"
      }],
      backgroundColor: tc,
      paddingAll: "6px",
      cornerRadius: "4px",
  
    });
  }

  bodyContents.push({
    type: "text",
    text: title,
    weight: "bold",
    size: "xl",
    wrap: true,
    color: "#1a1a1a",
    margin: tag ? "md" : "none"
  });

  if (desc) {
    bodyContents.push({
      type: "text",
      text: desc,
      size: "sm",
      wrap: true,
      color: "#888888",
      margin: "sm"
    });
  }

  if (price) {
    const priceRow = {
      type: "box",
      layout: "baseline",
      margin: "md",
      contents: [{
        type: "text",
        text: price,
        size: "xxl",
        weight: "bold",
        color: tc,
        flex: 0
      }]
    };
    if (original) {
      priceRow.contents.push({
        type: "text",
        text: original,
        size: "sm",
        color: "#bbbbbb",
        decoration: "line-through",
        margin: "sm",
        flex: 0
      });
    }
    bodyContents.push(priceRow);
  }

  const flex = {
    type: "flex",
    altText: title,
    contents: {
      type: "bubble",
      hero: img ? {
        type: "image",
        url: img,
        size: "full",
        aspectRatio: "20:13",
        aspectMode: "cover"
      } : undefined,
      body: {
        type: "box",
        layout: "vertical",
        contents: bodyContents,
        spacing: "sm"
      },
      footer: {
        type: "box",
        layout: "vertical",
        contents: [{
          type: "button",
          action: {
            type: "uri",
            label: btnText,
            uri: btnUrl
          },
          style: "primary",
          color: tc,
          height: "sm",
          cornerRadius: "8px"
        }]
      }
    }
  };

  // remove undefined
  if (!img) delete flex.contents.hero;

  return flex;
}

// ---- Send Flex ----
async function sendFlex() {
  if (!liffReady) {
    showStatus('‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ LINE', 'error', 'app');
    return;
  }

  if (!liff.isApiAvailable('shareTargetPicker')) {
    showStatus('shareTargetPicker ‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå/‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏ô‡∏µ‡πâ', 'error', 'app');
    return;
  }

  const flexMsg = buildFlex();

  try {
    const result = await liff.shareTargetPicker([flexMsg], { isMultiple: true });
    if (result) {
      showStatus('‚úÖ ‡∏™‡πà‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!', 'success', 'app');
    } else {
      showStatus('‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á', 'info', 'app');
    }
  } catch (e) {
    showStatus('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: ' + e.message, 'error', 'app');
  }
}

// ---- Status helper ----
function showStatus(msg, type, scope) {
  const el = scope === 'setup'
    ? document.querySelector('#setup-screen #status')
    : document.querySelector('#app #status');
  if (!el) return;
  el.textContent = msg;
  el.className = type;
}
</script>
</body>
</html>
